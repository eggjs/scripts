import path from 'node:path';
import { fileURLToPath } from 'node:url';
import { Application as _Application, Agent, startCluster } from 'egg';

const EGG_PATH = Symbol.for('egg#eggPath');
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

class Application extends _Application {
  get [EGG_PATH]() {
    return __dirname;
  }
}

export {
  Application,
  Agent,
  startCluster,
};
